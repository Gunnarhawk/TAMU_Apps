<!DOCTYPE html>
<html>
  <head>
    <title>Keys Database</title>

    <link  rel="stylesheet" href="style.css">
    <script src="script.js"></script>

    <!--BOOTSTRAP-->
    <link rel="stylesheet" href="../dependencies/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="../dependencies/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  </head>
  <body onload="FillTable(); SortTable('key', 0, null); currentPageStr='key';">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="#">Business Management</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Features</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="row">
      <div class="col col-sm-10 offset-sm-1">
        <br>
        <h2 class="text-center display-1">Keys Database</h2>
        <br>
      </div>
    </div>
    <div class="main-content">
      <br>
      <div class="row">
        <div class="col col-sm-10 offset-sm-1">
          <ul class="nav phone-nav">
            <li class="nav-item">
             <a class="nav-link" href="#collapse1" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseExample">Add</a>
            </li>
            <li class="nav-item">
             <a class="nav-link" href="#">Clear</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#collapse2" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseExample" onclick="DeleteButton();">Delete</a>
            </li>
            <li class="nav-item">
             <a class="nav-link" href="#collapse3" data-toggle="collapse" role="button" aria-expanded="false" aria-controls="collapseExample">Search</a>
            </li>
            <li class="nav-item">
             <a class="nav-link" href="#">Refresh</a>
            </li>
          </ul>
         <br>
          <div class="collapse" id="collapse1">
           <div class="card card-body">
             <h4>To add data to the table, fill out the forms below, then click the submit button.</h4>
             <div class="row">
               <div class="col-4">
                 <button type="submit" class="btn btn-primary" onclick="AddTableElement('key');">Submit</button>
               </div>
             </div>
           </div>
          </div>
          <div class="collapse" id="collapse3">
            <div class="card card-body">
              <h4>Search for a Key</h4>
              <input type="text" class="form-control" id="myInput2" onkeyup="TableSearch(2);" placeholder="Search..">
            </div>
          </div>
          <div class="collapse" id="key-collapse4">
            <div class="card card-body bg-info">
              <h4>Edit Mode is now active, to save your edits, click the save button. To deactivate, click the highlighted row again.</h4>
              <div class="row">
                <div class="col-4">
                  <button type="submit" class="btn btn-primary" onclick="SaveEditedFormData('key');">Save</button>
                </div>
              </div>
            </div>
          </div>
        </div>  
      </div>
      <div class="row">
        <div class="col col-sm-10 offset-sm-1">
          <br>
          <h3 class="key-directory-name">Key Database</h3>
          <div class="table-responsive table-sticky">
            <table class="table table-hover key-table" id="searchable2">
              <thead>
                <tr>
                  <th scope="col" onclick="SortTable('key', 0, this);" class="hoverable-th">Key</th>
                  <th scope="col" onclick="SortTable('key', 1, this);" class="hoverable-th">Hook</th>
                  <th scope="col" onclick="SortTable('key', 2, this);" class="hoverable-th">Issue Date</th>
                  <th scope="col" onclick="SortTable('key', 3, this);" class="hoverable-th">Purpose</th>
                  <th scope="col" onclick="SortTable('key', 4, this);" class="hoverable-th">Holder</th>
                  <th scope="col" onclick="SortTable('key', 5, this);" class="hoverable-th">SSN</th>
                  <th scope="col" onclick="SortTable('key', 6, this);" class="hoverable-th">Advisor</th>
                  <th scope="col" onclick="SortTable('key', 7, this);" class="hoverable-th">Building</th>
                  <th scope="col" onclick="SortTable('key', 8, this);" class="hoverable-th">Room</th>
                </tr>
              </thead>
              <tbody class="key-table-body">
                <!--Filled by JS-->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col col-sm-10 offset-sm-1">
          <div class="row">
            <div class="col-3">
              <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <a class="nav-link active" id="v-pills-edit-tab" data-toggle="pill" href="#v-pills-edit" role="tab" aria-controls="v-pills-edit" aria-selected="true">Edit Key</a>
                <a class="nav-link" id="v-pills-hist-tab" data-toggle="pill" href="#v-pills-hist" role="tab" aria-controls="v-pills-hist" aria-selected="false">Key History</a>
                <a class="nav-link" id="v-pills-security-tab" data-toggle="pill" href="#v-pills-security" role="tab" aria-controls="v-pills-security" aria-selected="false">Security</a>
                <a class="nav-link" id="v-pills-access-tab" data-toggle="pill" href="#v-pills-access" role="tab" aria-controls="v-pills-access" aria-selected="false">Access</a>
              </div>
            </div>
            <div class="col-9">
              <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="v-pills-edit" role="tabpanel" aria-labelledby="v-pills-edit-tab">
                  <form>
                    <div class="form-row">
                      <div class="col">
                        <label>Key Name</label>
                        <input type="text" class="form-control" id="keyInput1" placeholder="A1234B">
                      </div>
                      <div class="col">
                        <label>Hook</label>
                        <input type="text" class="form-control" id="keyInput2" placeholder="123">
                      </div>
                      <div class="col">
                        <label>Date Issued</label>
                        <input type="text" class="form-control" id="keyInput3" placeholder="(dd/mm/yyyy)">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col">
                        <label>Purpose</label>
                        <input type="text" class="form-control" id="keyInput4" placeholder="...">
                      </div>
                      <div class="col">
                        <label>Holder</label>
                        <input type="text" class="form-control" id="keyInput5" placeholder="">
                      </div>
                      <div class="col">
                        <label>SSN</label>
                        <input type="text" class="form-control" id="keyInput6" placeholder="">
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="col">
                        <label>Advisor</label>
                        <input type="text" class="form-control" id="keyInput7" placeholder="">
                      </div>
                      <div class="col">
                        <label>Building</label>
                        <input type="text" class="form-control" id="keyInput8" placeholder="123">
                      </div>
                      <div class="col">
                        <label>Room</label>
                        <input type="text" class="form-control" id="keyInput9" placeholder="123">
                      </div>
                    </div>
                  </form>
                </div>
                <div class="tab-pane fade" id="v-pills-hist" role="tabpanel" aria-labelledby="v-pills-hist-tab">
                  <div class="row">
                    <div clas="col col-12">
                      <form>
                        <label>Key Name</label>
                        <input type="text" class="form-control" id="POKeyInput1" placeholder="A1234B">
                      </form>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col col-12">
                      <h4>History</h4>
                      <div class="table-responsive">
                        <table class="table table-hover table-borderless key-hist-table">
                          <thead>
                            <tr>
                              <th scope="col">From</th>
                              <th scope="col">To</th>
                              <th scope="col">Holder</th>
                              <th scope="col">Advisor</th>
                              <th scope="col">Purpose</th>
                            </tr>
                          </thead>
                          <tbody class="key-table-body">
                            <tr>
                              <td>NA</td>
                              <td>NA</td>
                              <td>NA</td>
                              <td>NA</td>
                              <td>NA</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade" id="v-pills-security" role="tabpanel" aria-labelledby="v-pills-security-tab">
                  <div class="row">
                    <div class="col-sm-12">
                      <h3>Security</h3>
                      
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade" id="v-pills-access" role="tabpanel" aria-labelledby="v-pills-access-tab">
                  <ul class="nav key-access-nav">
                    <li class="nav-item">
                     <a class="nav-link" href="#access-collapse1" data-toggle="collapse" role="button" aria-expanded="false">Add</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" role="button" aria-expanded="false" onclick="AccessDeleteButton();">Delete</a>
                    </li>
                  </ul>
                  <br>
                  <div class="collapse" id="access-collapse1">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col col-12">
                          <form>
                            <div class="form-row">
                              <div class="col">
                                <label>Building</label>
                                  <input type="text" class="form-control" id="keyAccessInput1" placeholder="123">
                              </div>
                              <div class="col">
                                <label>Room</label>
                                <input type="text" class="form-control" id="keyAccessInput2" placeholder="123">
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-4">
                          <br>
                          <button type="submit" class="btn btn-primary" onclick="AccessAddElement();">Submit</button>
                        </div>
                      </div>
                    </div>
                   </div>
                   <br>
                  <div class="row">
                    <div class="col col-12">
                      <h4>Access</h4>
                      <div class="table-responsive">
                        <table class="table table-hover table-borderless key-access-table">
                          <thead>
                            <tr>
                              <th scope="col">Building</th>
                              <th scope="col">Room</th>
                            </tr>
                          </thead>
                          <tbody class="key-access-table-body">
                            <tr onclick="KeyAccessTableRow_OnClick(this);">
                              <td>NA</td>
                              <td>NA</td>
                            </tr>
                            <tr onclick="KeyAccessTableRow_OnClick(this);">
                              <td>NA</td>
                              <td>NA</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>  
        </div>
      </div>
    </div>
  </body>
</html>